services:
  httpd:
    image: httpd:latest
    container_name: httpd
    ports:
      - "81:80"
    volumes:
      - ${CONFIG_PATH}/Home/httpd:/usr/local/apache2/htdocs
    restart: unless-stopped

  homepage:
    image: ghcr.io/gethomepage/homepage:latest
    container_name: Homepage
    ports:
      - 82:3000
    volumes:
      - ${CONFIG_PATH}/Home/Homepage:/app/config
      - /var/run/docker.sock:/var/run/docker.sock
    restart: unless-stopped

  duplicati:
    image: lscr.io/linuxserver/duplicati:latest
    container_name: duplicati
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
      - CLI_ARGS= #optional
    volumes:
      - ${CONFIG_PATH}/Home/Duplicati:/config
      - /public:/source
    ports:
      - 8200:8200
    restart: unless-stopped

  sggwbot:
    environment:
      - BOT_TOKEN=${BOT_TOKEN}
    restart: unless-stopped
    container_name: sggwbot
    image: thephaseless/sggwbot:main

  # filebrowser:
  #   container_name: filebrowser
  #   command: "--auth.method='none'"
  #   volumes:
  #     - "/public:/srv"
  #   ports:
  #     - "83:80"
  #   image: filebrowser/filebrowser

  adguardhome:
    container_name: AdguardHome
    image: adguard/adguardhome
    restart: unless-stopped
    volumes:
      - "${CONFIG_PATH}/Home/AdGuard/work:/opt/adguardhome/work"
      - "${CONFIG_PATH}/Home/AdGuard/conf:/opt/adguardhome/conf"
    ports:
      - "84:80" # WebUI
      - "53:53" # DNS
      - "3000:3000/tcp" # Setup

  scanservjs:
    container_name: scanservjs
    image: "sbs20/scanservjs:latest"
    ports:
      - "84:8080"
    volumes:
      - "/var/run/dbus:/var/run/dbus"
      - "${MEDIA_PATH}/Scans:/app/data/output"
      - "${CONFIG_PATH}/Home/Scanservjs:/app/config"
    restart: unless-stopped
    devices:
      - "/dev/bus/usb:/dev/bus/usb"
    privileged: true

  gptwol:
    container_name: GPT-Wol
    image: misterbabou/gptwol:latest
    network_mode: host
    ports:
      - "85:85"
    restart: unless-stopped
    environment:
      - PORT=85 #Free Port on Your host default is 5000
      - TZ=Europe/Paris #Set your timezone for Cron default is UTC
    volumes:
      - ./computers.txt:/app/computers.txt
      - ./appdata/cron:/etc/cron.d
