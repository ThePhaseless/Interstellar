# =============================================================================
# Jellyfin External Secrets
# =============================================================================
# Admin credentials for automated Jellyfin setup wizard completion.
# Bitwarden secrets required:
#   - jellyfin-admin-password: Random admin password
#   - oauth2-proxy-vip-emails: VIP email list (one per line) for user creation (legacy Bitwarden key name)
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: jellyfin-secrets
  namespace: media
spec:
  refreshInterval: 1h
  secretStoreRef:
    name: bitwarden-store
    kind: ClusterSecretStore
  target:
    name: jellyfin-secrets
    creationPolicy: Owner
  data:
    - secretKey: admin-password
      remoteRef:
        key: jellyfin-admin-password
    - secretKey: vip-emails
      remoteRef:
        key: oauth2-proxy-vip-emails
