# =============================================================================
# Copyparty Service
# =============================================================================
apiVersion: v1
kind: Service
metadata:
  name: copyparty
  namespace: utilities
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 3923
      targetPort: http
    - name: smb
      port: 3945
      targetPort: smb
  selector:
    app: copyparty
---
# Tailscale-exposed SMB service
apiVersion: v1
kind: Service
metadata:
  name: copyparty-smb
  namespace: utilities
  annotations:
    tailscale.com/expose: "true"
    tailscale.com/hostname: "files-smb"
spec:
  type: ClusterIP
  ports:
    - name: smb
      port: 445
      targetPort: smb
  selector:
    app: copyparty
