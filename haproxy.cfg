global
    log stdout format raw local0

defaults
    mode tcp
    log global
    option tcplog
    timeout connect 10s
    timeout client 30s
    timeout server 30s

frontend http
    bind *:80
    default_backend traefik-http

frontend https
    bind *:443
    default_backend traefik-https

backend traefik-http
    # Traefik's Tailscale MagicDNS hostname
    # Updated by Ansible after Tailscale Operator deployment
    server traefik talos-traefik:80 send-proxy-v2

backend traefik-https
    # Traefik's Tailscale MagicDNS hostname
    # Updated by Ansible after Tailscale Operator deployment
    server traefik talos-traefik:443 send-proxy-v2
